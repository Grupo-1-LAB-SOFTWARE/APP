"use strict";(self.webpackChunklabAPP=self.webpackChunklabAPP||[]).push([[888],{1888:(j,c,n)=>{n.r(c),n.d(c,{PerfilModule:()=>O});var l=n(6814),f=n(6208),u=n(8081),h=n(9677),g=n(9699),v=n(6223),s=n(800),t=n(5879),m=n(6414),C=n(2296),p=n(5195),r=n(3305),x=n(617),P=n(2596);function Z(a,U){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"mat-card",2)(2,"div",3),t._UZ(3,"img",4),t.qZA(),t.TgZ(4,"div",5)(5,"mat-accordion")(6,"mat-expansion-panel",6)(7,"mat-expansion-panel-header")(8,"mat-panel-title",7),t._uU(9," Informa\xe7\xf5es B\xe1sicas "),t.qZA(),t.TgZ(10,"mat-panel-description")(11,"button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.chamarComponentePerfilCreate())}),t.TgZ(12,"mat-icon"),t._uU(13,"edit"),t.qZA()()()(),t.TgZ(14,"div",9)(15,"strong")(16,"span",9),t._uU(17),t.qZA(),t.TgZ(18,"span",9),t._uU(19),t.qZA(),t.TgZ(20,"span",9),t._uU(21),t.qZA(),t.TgZ(22,"span",9),t._uU(23),t.qZA()()()(),t.TgZ(24,"mat-accordion")(25,"mat-expansion-panel")(26,"mat-expansion-panel-header")(27,"mat-panel-title"),t._uU(28," Mais Informa\xe7\xf5es "),t.qZA(),t.TgZ(29,"mat-panel-description",10)(30,"mat-icon"),t._uU(31,"account_circle"),t.qZA()()(),t.TgZ(32,"div",9)(33,"strong")(34,"span",9),t._uU(35),t.qZA(),t.TgZ(36,"span",9),t._uU(37),t.qZA(),t.TgZ(38,"span",9),t._uU(39),t.qZA()()()()()()()()()}if(2&a){const e=t.oxw();t.xp6(6),t.Q6J("expanded",0===e.step),t.xp6(11),t.hij("Nome: ",e.saveData.nome_completo,""),t.xp6(2),t.hij("Titula\xe7\xe3o: ",e.saveData.titulacao,""),t.xp6(2),t.hij("Instituto: ",e.saveData.instituto,""),t.xp6(2),t.hij("E-mail: ",e.saveData.email,""),t.xp6(12),t.hij("Classe: ",e.saveData.classe,""),t.xp6(2),t.hij("SIAGE: ",e.saveData.siape,""),t.xp6(2),t.hij("V\xednculo: ",e.saveData.vinculo,"")}}function b(a,U){1&a&&t._UZ(0,"router-outlet")}let T=(()=>{class a{constructor(e,o){this.router=e,this.crudService=o,this.step=0}chamarComponentePerfilCreate(){this.router.navigateByUrl("/perfil/painel",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/perfil/painel/editar"])})}ngOnInit(){this.crudService.getAll("usuarios").subscribe(e=>{this.saveData=e})}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(s.F0),t.Y36(m.I))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-perfil"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"matContainer"],[1,"img"],["mat-card-image","","src","assets/foto-perfil.png","alt","Foto de perfil","height","120px","width","120px"],[1,"info"],["disabled","",1,"d-flex","flex-column","justify-content-start",3,"expanded"],[1,"d-flex","gap-2","justify-content-between"],["mat-icon-button","","color","primary","matTooltip","Editar perfil",3,"click"],[1,"row"],[1,"d-flex","justify-content-end"]],template:function(o,i){if(1&o&&(t.YNc(0,Z,40,8,"div",0),t.YNc(1,b,1,0,"ng-template",null,1,t.W1O)),2&o){const d=t.MAs(2);t.Q6J("ngIf",i.saveData&&"/perfil/painel"===i.router.routerState.snapshot.url)("ngIfElse",d)}},dependencies:[l.O5,C.RK,p.a8,p.G2,r.pp,r.ib,r.yz,r.yK,r.u4,x.Hw,P.gM,s.lC],styles:[".matContainer[_ngcontent-%COMP%]{border-top:2px solid #ffffff;border-bottom:2px solid #ffffff;border-radius:2rem;width:30rem;align-items:center;margin-top:3rem}mat-accordion[_ngcontent-%COMP%]{width:25rem}.img[_ngcontent-%COMP%]{width:30rem;display:flex;justify-content:center;align-items:center;mix-blend-mode:multiply;border-bottom:1px solid #115B2F}.info[_ngcontent-%COMP%]{margin:1rem;display:flex;padding-bottom:4rem;font-family:roboto;font-size:medium}.mat-button[_ngcontent-%COMP%]{background-color:#115b2f;color:#000}.mat-icon[_ngcontent-%COMP%]{color:#000}.mat-expansion-panel[_ngcontent-%COMP%]{margin:1rem;border-bottom:.5rem;border-color:#3f3232;color:#000;background-color:#fff}.mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-grow:0!important}.mat-content.mat-content-hide-toggle[_ngcontent-%COMP%]{margin-right:0!important}.matContainer[_ngcontent-%COMP%]{background-color:#115b2f!important}"]})}return a})();var y=n(7563),A=n(9171);const M=[{path:"",component:T,children:[{path:"editar",component:(()=>{class a{constructor(e,o){this.formularioService=e,this.crudService=o,this.perfilComponent=!0,this.title="Edite seu Perfil"}ngOnInit(){this.crudService.getAll("usuarios").subscribe(e=>{this.cadastro=e,console.log(this.cadastro),this.carregarForm()})}carregarForm(){this.form=this.formularioService.getCadastro(),this.form?.patchValue({username:this.cadastro.username,nome_completo:this.cadastro.nome_completo,perfil:this.cadastro.perfil,email:this.cadastro.email,password:this.cadastro.password,classe:this.cadastro.classe,siape:this.cadastro.siape,vinculo:this.cadastro.vinculo,regime_de_trabalho:this.cadastro.regime_de_trabalho,titulacao:this.cadastro.titulacao,instituto:this.cadastro.instituto,campus:this.cadastro.campos,confirmar_senha:this.cadastro.confirmar_senha,confirmar_email:this.cadastro.confirmar_email})}editarPerfil(){const e=this.formularioService.getCadastro();e?.valid&&(console.log(e.value),this.crudService.updatePerfil("usuarios",e.value).subscribe({next:o=>{console.log("Cadastro realizado com sucesso",o)},error:o=>{console.log("Erro ao realizar cadastro",o)}}))}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(y.Y),t.Y36(m.I))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-perfil-create"]],decls:1,vars:2,consts:[[3,"perfilComponent","title","acaoClick"]],template:function(o,i){1&o&&(t.TgZ(0,"app-cadastro-form-base",0),t.NdJ("acaoClick",function(){return i.editarPerfil()}),t.qZA()),2&o&&t.Q6J("perfilComponent",i.perfilComponent)("title",i.title)},dependencies:[A.l]})}return a})()}]}];let E=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[s.Bz.forChild(M),s.Bz]})}return a})(),O=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[l.ez,f.m,u.I,h.q,g.K,v.u5,E]})}return a})()}}]);